<script>
  async function handleLogin(event) {
    event.preventDefault();
    
    const username = document.getElementById('username').value.trim();
    const password = document.getElementById('password').value.trim();

    try {
      const response = await fetch('users.js');
      const scriptText = await response.text();

      const usersData = scriptText.match(/const users = (\[.*?\]);/s);
      if (!usersData) {
        alert('Gagal mengambil data user.');
        return;
      }

      const users = eval(usersData[1]);

      const user = users.find(u => u.username === username && u.password === password);
      if (user) {
        // âœ… Login berhasil
        const successMsg = document.getElementById('login-success');
        successMsg.style.display = 'block';

        setTimeout(() => {
          window.location.href = 'dashboard.html';
        }, 1500);
      } else {
        alert('Login gagal. Username atau password salah.');
      }
    } catch (error) {
      console.error('Error saat login:', error);
      alert('Terjadi kesalahan saat login.');
    }
  }
</script>
